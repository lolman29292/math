<!DOCTYPE html>
<html>
    <head>
        <title>Math Ranked</title>
    </head>
    <body>
        <br><br>
        <h1>What is the answer?</h1>
        <br>
        <script src="addition.js"></script>
        <script src="subtraction.js"></script>
        <script src="multiplication.js"></script>
        <script src="division.js"></script>
        <script src="derivatives.js"></script>
        <script>
let score = 0
let scoreinc = 4
let scoretext = "Score = " + score
function changescore(){
    if (diff === "4 digits"){
        scoreinc = 4;
    }
    if (diff === "3 digits"){
        scoreinc = 3;
    }
    if (diff === "2 digits"){
        scoreinc = 2;
    }
    if (diff === "1 digit"){
        scoreinc = 1;
    }
    score = score + scoreinc;
    scoretext = "Score = " + score;
    document.getElementById("score").textContent = scoretext;
}

let mode = "Addition";

function changemode(){
    let dropdownmode = document.getElementById("selectmode");
    mode = dropdownmode.value;
    
    if (mode === "Addition"){
        changevarsaddition();
        document.getElementById("question").textContent = additiontext;
    }
    if (mode === "Subtraction"){
        changevarssubtraction();
        document.getElementById("question").textContent = subtractiontext;
    }
    if (mode === "Multiplication"){
        changevarsmult();
        document.getElementById("question").textContent = multtext;
    }
    if (mode === "Division"){
        changevarsdiv();
        document.getElementById("question").textContent = divtext;
    }
    if(mode === "Derivatives"){
        changevarsderiv();
        document.getElementById("question").textContent = derivtext;
    }
    console.log("mode = " + mode);
}

function check(){
if(level === "Arithmetic"){
    if (mode === "Addition"){
        checkaddition();
    }
    if (mode === "Subtraction"){
        checksubtraction();
    }
    if (mode === "Multiplication"){
        checkmult();
    }
    if (mode === "Division"){
        checkdiv();
    }
}
if(level === "Calculus"){
    if (mode === "Derivatives"){
        checkderiv();
    }
}
}

function changedifficulty(){
    if (mode === "Addition"){
        changedifficultyaddition();
    }
    if (mode === "Subtraction"){
        changedifficultysubtraction();
    }
    if (mode === "Multiplication"){
        changedifficultymult();
    }
    if (mode === "Division"){
        changedifficultydiv();
    }
    if (mode === "Derivatives"){
        changevarsderiv();
    }
}

let level = "Arithmetic";
let newlevel = 0
function changelevel(){
    level = document.getElementById("selectlevel").value;
    if (level === "Arithmetic"){
        changedifficulty();
        changedifficultyaddition();
        newdiffdrop = '<option>4 digits</option><option>3 digits</option><option>2 digits</option><option>1 digit</option>';
        changediffdrop.innerHTML = newdiffdrop;
        newmodedrop = '<option>Addition</option><option>Subtraction</option><option>Multiplication</option><option>Division</option>';
        changemodedrop.innerHTML = newmodedrop;
        mode = "Addition";
    }
    if (level === "Calculus"){
        changevarsderiv();
        newmodedrop = '<option>Derivatives</option><option>3 digits</option><option>2 digits</option><option>1 digit</option>';
        changemodedrop.innerHTML = newmodedrop;
        newdiffdrop = '<option>4 terms</option><option>3 terms</option><option>2 terms</option><option>1 term</option>';
        changediffdrop.innerHTML = newdiffdrop;
        mode = "Derivatives";
    }
    newlevel++;
    console.log("level = " + level);
}
        </script>
        <p id="question"><script>document.getElementById("question").textContent = additiontext;</script></p>
        <br>
        <input type="text" id="answer" placeholder="Answer">
        <script>
            let input = document.getElementById("answer");
            input.addEventListener("keydown", function(event) {
            if(event.key === "Enter") {
            check();
            }
            })
        </script>
        <br><br>
        <button onclick=check();>Submit Answer</button><p id="score"><script>document.getElementById("score").textContent = scoretext;</script></p>
        <br><br><br><br>
        <p>Select a level, difficulty and mode!</p>
        <select id="selectlevel" onchange="changelevel();">
            <option>Arithmetic</option>
            <option>Calculus</option>
        </select>
        <select id="selectdiff" onchange="changedifficulty();">
            <option>4 digits</option>
            <option>3 digits</option>
            <option>2 digits</option>
            <option>1 digit</option>
        </select>
        <select id="selectmode" onchange="changemode();">
            <option>Addition</option>
            <option>Subtraction</option>
            <option>Multiplication</option>
            <option>Division</option>
        </select>
        <script>
let changemodedrop = document.getElementById("selectmode");
let newmodedrop;
let changediffdrop = document.getElementById("selectdiff");
let newdiffdrop;
        </script>
    </body>
</html>